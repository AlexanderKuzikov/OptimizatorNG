# Проект: Optimizator Next Gen

## 1. Миссия
Создаем десктопное приложение "Optimizator Next Gen" на базе Electron и TypeScript. Приложение предназначено для глубокой и гибкой обработки шаблонов документов (docx и fdt) с целью их оптимизации и стандартизации. Ключевая особенность проекта — максимальная атомизация логики и динамическая генерация пользовательского интерфейса на основе единого конфигурационного файла `config.json`.

## 2. Роли и методология
- **Архитектор (Пользователь):** Определяет стратегию, цели, функциональные требования и конечную логику продукта. Принимает ключевые архитектурные решения. Учится новым технологиям (TypeScript, Electron) в процессе.
- **Разработчик (LLM):** Является техническим специалистом. Предлагает варианты реализации, пишет код по утвержденному плану, объясняет технические нюансы, обеспечивает качество и чистоту кода.
- **Методология:**
    1.  **Обсуждение → Решение → Код:** Мы не пишем код, пока все детали не согласованы.
    2.  **Итеративная разработка:** Двигаемся маленькими, логичными шагами.
    3.  **Профессиональная этика:** Мы — команда. Не извиняемся, а решаем проблемы.
    4.  **GitHub-ориентированность:** Проект ведется как open-source портфолио с высоким качеством кода и документации.
    5.  **Дневник разработки:** Все ключевые решения фиксируются в `DEV_LOG.md`.

## 3. Ключевые архитектурные принципы
- **Единый источник истины:** Вся конфигурация приложения, включая логику обработки, глобальные настройки документов и даже тема интерфейса, находится в одном файле `config.json`.
- **Трехуровневая архитектура: "Оболочка" → "Оркестратор" → "Ядро"**:
    - **Уровень "Оболочки" (Shell):** Отвечает за всю работу с файловой системой. Включает "Нормализатор" (fdt/docx → docx), "Распаковщик/Запаковщик" (docx ↔ xml) и отладочные инструменты.
    - **Уровень "Оркестратора" (Orchestrator):** Управляет процессом. Получает от "Оболочки" XML-строку, читает `config.json` и последовательно вызывает операции из "Ядра".
    - **Уровень "Ядра" (Core):** "Чистый" обработчик данных. Состоит из набора атомарных, независимых функций, каждая в своем файле. Каждая функция принимает и возвращает XML-строку, выполняя одну единственную операцию (`RegExp`).
- **Динамический UI:** Интерфейс Electron (Renderer) динамически генерируется на основе метаданных из `config.json`. Добавление новой функции в `config.json` автоматически отображает ее в UI без изменения кода фронтенда.
- **Трехуровневый интерфейс:** UI имеет три режима доступа, фильтруя `config.json` по мета-тегам:
    - **User:** Минималистичный вид. Только выбор файлов и запуск.
    - **Developer:** Доступ к настройкам шагов обработки (`processingSteps`).
    - **Settings:** Доступ к глобальным настройкам документа (`documentSettings`).

## 4. Стек технологий
- **Фреймворк:** Electron
- **Язык:** TypeScript
- **Сборка и зависимости:** `electron-builder` (или аналог), `adm-zip` (или аналог).
- **Среда разработки:** VS Code
- **Система контроля версий:** Git (GitHub)